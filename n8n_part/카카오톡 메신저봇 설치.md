
카카오톡으로 챗봇을 설치하려면

휴대폰 번호, 메신저봇이 필요함

---

1. 편의점에서 유심을 구매 - kt m모바일 기준 6600원
	- 최저요금제인 2800원/월 로 셀프가입 


---

2. 카톡 설치
   - 새로운 아이디로 가입합니다.


--- 

3. 메신저봇 설치 
	 -  메신저봇 다운받고 설치하기
	 - 메신저봇r 검색하거나 다음링크에서 다운 받으세요	 
	 ```url
	 https://github.com/MessengerBotTeam/msgbot-old-release/releases
	 ```
	
	- 알람권한
	- 파일수정권한
	

4. 입력코드 (정확히 19번 줄만 지우고 바꿉니다)
``` 
function onMessage(msg) {
  // ?나 !로 안하면 종료
  if(!msg.content.startsWith('@멍')) { //트리거로 걸릴 단어
    return;
  }

  // 허용된 방 목록 정의
  const allowedRooms = ['정우석', '일하는 ai'];
  // msg.room이 허용된 목록에 포함되지 않으면 종료
  if(!allowedRooms.includes(msg.room)) {
    return;
  }

  try {
    var url = 'https://n7n.aidoingai.com/webhook/katok'; //웹훅주소로 변경하세요
    var response = org.jsoup.Jsoup.connect(url)
      .header("Content-Type", "application/json")
      .requestBody(JSON.stringify({
        "msg": msg.content,
        "room": msg.room,
        "sender": msg.author.name
      }))
      .ignoreContentType(true) // Content Type 무시
      .ignoreHttpErrors(true) // 4xx, 5xx 에러 무시
      .timeout(60000) // 60초 동안 응답이 없으면 오류
      .post();
      var answer = response.text();
      msg.reply(answer);
  } catch(e) {
  msg.reply(e)}
}

```
